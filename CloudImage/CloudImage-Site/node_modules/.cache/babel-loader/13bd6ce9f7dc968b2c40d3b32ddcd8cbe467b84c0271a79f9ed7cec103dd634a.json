{"ast":null,"code":"import{useState}from'react';import{useNavigate}from\"react-router-dom\";import{NavBar}from'./home';import\"./create.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Create(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"login_main\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(Form,{})]})});}function Form(){const[Username,setUsername]=useState(null);const[Password,setPassword]=useState(null);const[message,setMessage]=useState(\"Please create an account below\");const[PasswordConf,setPasswordConf]=useState(null);const[Failed,setFailed]=useState(false);const navigate=useNavigate();function createHandler(){if(PasswordConf!=Password){setMessage(\"Passwords don't match\");setFailed(true);}else{fetch(process.env.REACT_APP_API_BASE_URL+\"/user\",{method:\"POST\",headers:{'content-type':'application/json'},body:JSON.stringify({\"username\":Username,\"password\":Password})}).then(response=>{setFailed(response.status!=200);if(response.status!=200){setMessage(\"Username alredy exists, try another email or login!\");}else{navigate('/login');}});}}const flags=Failed?\"Username alredy exists, please try another email or login!\":\"Please create an account below\";return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"create-form\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"icon.png\"}),/*#__PURE__*/_jsx(\"p\",{className:\"create-messages\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"user\",placeholder:\"Username\",onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"pass\",placeholder:\"Password\",onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"passC\",placeholder:\"Confirm Password\",onChange:e=>setPasswordConf(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"create-buttons\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:createHandler,children:\"Create Account\"})})]})]})});}","map":{"version":3,"names":["useState","useNavigate","NavBar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Create","children","className","Form","Username","setUsername","Password","setPassword","message","setMessage","PasswordConf","setPasswordConf","Failed","setFailed","navigate","createHandler","fetch","process","env","REACT_APP_API_BASE_URL","method","headers","body","JSON","stringify","then","response","status","flags","src","type","id","placeholder","onChange","e","target","value","onClick"],"sources":["C:/Users/Arian/Documents/project/CIM-Project/client/website/src/create.js"],"sourcesContent":["import { useState } from 'react';\r\nimport {useNavigate} from \"react-router-dom\"; \r\nimport {NavBar} from './home'; \r\nimport \"./create.css\"; \r\nexport default function Create(){ \r\n    return ( \r\n        <>\r\n            <div className='login_main'> \r\n                <NavBar></NavBar> \r\n                <Form></Form> \r\n            </div> \r\n        </>\r\n        \r\n    ); \r\n} \r\n\r\n\r\nfunction Form() { \r\n    const [Username,setUsername] = useState(null); \r\n    const [Password,setPassword] = useState(null); \r\n    const [message,setMessage] = useState(\"Please create an account below\"); \r\n    const [PasswordConf,setPasswordConf] = useState(null); \r\n    const [Failed,setFailed] = useState(false); \r\n    const navigate = useNavigate(); \r\n    function createHandler(){ \r\n        if (PasswordConf != Password) { \r\n            setMessage(\"Passwords don't match\") \r\n            setFailed(true); \r\n        } else { \r\n        fetch(process.env.REACT_APP_API_BASE_URL+\"/user\", {method:\"POST\", \r\n                                            headers: {'content-type':'application/json'}, \r\n                                            body: JSON.stringify({\"username\": Username,\"password\":Password }) \r\n            })  \r\n            .then((response) => {setFailed(response.status!=200); \r\n                                if (response.status!=200){setMessage(\"Username alredy exists, try another email or login!\")}\r\n                                else{navigate('/login')}}) \r\n        }\r\n    } \r\n    const flags = Failed ? \"Username alredy exists, please try another email or login!\" : \"Please create an account below\";   \r\n    return ( \r\n        <> \r\n            <div className=\"create-form\"> \r\n                <img src='icon.png'/> \r\n                <p className='create-messages'>{message}</p> \r\n                <div className=\"create-container\"> \r\n                    <input type=\"email\" id=\"user\" placeholder=\"Username\" onChange={(e) => setUsername(e.target.value)}/> \r\n                    <input type=\"password\" id=\"pass\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)}/> \r\n                    <input type=\"password\" id=\"passC\" placeholder=\"Confirm Password\" onChange={(e) => setPasswordConf(e.target.value)}/> \r\n                    <div className='create-buttons'> \r\n                        <button type=\"submit\" onClick={createHandler}>Create Account</button> \r\n                    </div> \r\n                </div> \r\n            </div> \r\n        </> \r\n    ); \r\n} \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}