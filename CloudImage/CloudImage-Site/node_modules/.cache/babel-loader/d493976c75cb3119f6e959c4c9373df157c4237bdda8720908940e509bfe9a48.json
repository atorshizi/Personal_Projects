{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) : typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ReactGridGallery = {}, global.React));\n})(this, function (exports, require$$0) {\n  'use strict';\n\n  function _interopDefaultLegacy(e) {\n    return e && typeof e === 'object' && 'default' in e ? e : {\n      'default': e\n    };\n  }\n  var require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);\n\n  /******************************************************************************\r\n  Copyright (c) Microsoft Corporation.\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n  purpose with or without fee is hereby granted.\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n  PERFORMANCE OF THIS SOFTWARE.\r\n  ***************************************************************************** */\n\n  var __assign = function () {\n    __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n    };\n    return __assign.apply(this, arguments);\n  };\n  function __spreadArray(to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n        if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n        ar[i] = from[i];\n      }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n  }\n  typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n    var e = new Error(message);\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n  };\n  var jsxRuntime = {\n    exports: {}\n  };\n  var reactJsxRuntime_production_min = {};\n\n  /**\n   * @license React\n   * react-jsx-runtime.production.min.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var hasRequiredReactJsxRuntime_production_min;\n  function requireReactJsxRuntime_production_min() {\n    if (hasRequiredReactJsxRuntime_production_min) return reactJsxRuntime_production_min;\n    hasRequiredReactJsxRuntime_production_min = 1;\n    var f = require$$0__default[\"default\"],\n      k = Symbol.for(\"react.element\"),\n      l = Symbol.for(\"react.fragment\"),\n      m = Object.prototype.hasOwnProperty,\n      n = f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,\n      p = {\n        key: !0,\n        ref: !0,\n        __self: !0,\n        __source: !0\n      };\n    function q(c, a, g) {\n      var b,\n        d = {},\n        e = null,\n        h = null;\n      void 0 !== g && (e = \"\" + g);\n      void 0 !== a.key && (e = \"\" + a.key);\n      void 0 !== a.ref && (h = a.ref);\n      for (b in a) m.call(a, b) && !p.hasOwnProperty(b) && (d[b] = a[b]);\n      if (c && c.defaultProps) for (b in a = c.defaultProps, a) void 0 === d[b] && (d[b] = a[b]);\n      return {\n        $$typeof: k,\n        type: c,\n        key: e,\n        ref: h,\n        props: d,\n        _owner: n.current\n      };\n    }\n    reactJsxRuntime_production_min.Fragment = l;\n    reactJsxRuntime_production_min.jsx = q;\n    reactJsxRuntime_production_min.jsxs = q;\n    return reactJsxRuntime_production_min;\n  }\n  {\n    jsxRuntime.exports = requireReactJsxRuntime_production_min();\n  }\n  var jsxRuntimeExports = jsxRuntime.exports;\n  var getStyle = function (styleProp, fallback, context) {\n    if (typeof styleProp === \"function\") {\n      return styleProp(context);\n    }\n    if (typeof styleProp === \"object\") {\n      return styleProp;\n    }\n    return fallback(context);\n  };\n  var rotationTransformMap = {\n    3: \"rotate(180deg)\",\n    2: \"rotateY(180deg)\",\n    4: \"rotate(180deg) rotateY(180deg)\",\n    5: \"rotate(270deg) rotateY(180deg)\",\n    6: \"rotate(90deg)\",\n    7: \"rotate(90deg) rotateY(180deg)\",\n    8: \"rotate(270deg)\"\n  };\n  var SELECTION_MARGIN = 16;\n  var gallery = {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  };\n  var thumbnail = function (_a) {\n    var item = _a.item;\n    var rotationTransformValue = rotationTransformMap[item.orientation];\n    var style = {\n      cursor: \"pointer\",\n      maxWidth: \"none\",\n      width: item.scaledWidth,\n      height: item.scaledHeight,\n      marginLeft: item.marginLeft,\n      marginTop: 0,\n      transform: rotationTransformValue\n    };\n    if (item.isSelected) {\n      var ratio = item.scaledWidth / item.scaledHeight;\n      var viewportHeight = item.scaledHeight - SELECTION_MARGIN * 2;\n      var viewportWidth = item.viewportWidth - SELECTION_MARGIN * 2;\n      var height = void 0,\n        width = void 0;\n      if (item.scaledWidth > item.scaledHeight) {\n        width = item.scaledWidth - SELECTION_MARGIN * 2;\n        height = Math.floor(width / ratio);\n      } else {\n        height = item.scaledHeight - SELECTION_MARGIN * 2;\n        width = Math.floor(height * ratio);\n      }\n      var marginTop = Math.abs(Math.floor((viewportHeight - height) / 2));\n      var marginLeft = Math.abs(Math.floor((viewportWidth - width) / 2));\n      style.width = width;\n      style.height = height;\n      style.marginLeft = marginLeft === 0 ? 0 : -marginLeft;\n      style.marginTop = marginTop === 0 ? 0 : -marginTop;\n    }\n    return style;\n  };\n  var tileViewport = function (_a) {\n    var item = _a.item;\n    var styles = {\n      width: item.viewportWidth,\n      height: item.scaledHeight,\n      overflow: \"hidden\"\n    };\n    if (item.nano) {\n      styles.background = \"url(\".concat(item.nano, \")\");\n      styles.backgroundSize = \"cover\";\n      styles.backgroundPosition = \"center center\";\n    }\n    if (item.isSelected) {\n      styles.width = item.viewportWidth - SELECTION_MARGIN * 2;\n      styles.height = item.scaledHeight - SELECTION_MARGIN * 2;\n      styles.margin = SELECTION_MARGIN;\n    }\n    return styles;\n  };\n  var customOverlay = function (_a) {\n    var hover = _a.hover;\n    return {\n      pointerEvents: \"none\",\n      opacity: hover ? 1 : 0,\n      position: \"absolute\",\n      height: \"100%\",\n      width: \"100%\"\n    };\n  };\n  var galleryItem = function (_a) {\n    var margin = _a.margin;\n    return {\n      margin: margin,\n      WebkitUserSelect: \"none\",\n      position: \"relative\",\n      background: \"#eee\",\n      padding: \"0px\"\n    };\n  };\n  var tileOverlay = function (_a) {\n    var showOverlay = _a.showOverlay;\n    return {\n      pointerEvents: \"none\",\n      opacity: 1,\n      position: \"absolute\",\n      height: \"100%\",\n      width: \"100%\",\n      background: showOverlay ? \"linear-gradient(to bottom,rgba(0,0,0,0.26),transparent 56px,transparent)\" : \"none\"\n    };\n  };\n  var tileIconBar = {\n    pointerEvents: \"none\",\n    opacity: 1,\n    position: \"absolute\",\n    height: \"36px\",\n    width: \"100%\"\n  };\n  var tileDescription = {\n    background: \"white\",\n    width: \"100%\",\n    margin: 0,\n    userSelect: \"text\",\n    WebkitUserSelect: \"text\",\n    MozUserSelect: \"text\",\n    overflow: \"hidden\"\n  };\n  var bottomBar = {\n    padding: \"2px\",\n    pointerEvents: \"none\",\n    position: \"absolute\",\n    minHeight: \"0px\",\n    maxHeight: \"160px\",\n    width: \"100%\",\n    bottom: \"0px\",\n    overflow: \"hidden\"\n  };\n  var tagItemBlock = {\n    display: \"inline-block\",\n    cursor: \"pointer\",\n    pointerEvents: \"visible\",\n    margin: \"2px\"\n  };\n  var tagItem = function () {\n    return {\n      display: \"inline\",\n      padding: \".2em .6em .3em\",\n      fontSize: \"75%\",\n      fontWeight: \"600\",\n      lineHeight: \"1\",\n      color: \"yellow\",\n      background: \"rgba(0,0,0,0.65)\",\n      textAlign: \"center\",\n      whiteSpace: \"nowrap\",\n      verticalAlign: \"baseline\",\n      borderRadius: \".25em\"\n    };\n  };\n  var checkButton = function (_a) {\n    var isVisible = _a.isVisible;\n    return {\n      visibility: isVisible ? \"visible\" : \"hidden\",\n      background: \"none\",\n      float: \"left\",\n      width: 36,\n      height: 36,\n      border: \"none\",\n      padding: 6,\n      cursor: \"pointer\",\n      pointerEvents: \"visible\"\n    };\n  };\n  var CheckButton = function (_a) {\n    var _b = _a.isSelected,\n      isSelected = _b === void 0 ? false : _b,\n      _c = _a.isVisible,\n      isVisible = _c === void 0 ? true : _c,\n      onClick = _a.onClick,\n      _d = _a.color,\n      color = _d === void 0 ? \"#FFFFFFB2\" : _d,\n      _e = _a.selectedColor,\n      selectedColor = _e === void 0 ? \"#4285F4FF\" : _e,\n      _f = _a.hoverColor,\n      hoverColor = _f === void 0 ? \"#FFFFFFFF\" : _f;\n    var _g = require$$0.useState(false),\n      hover = _g[0],\n      setHover = _g[1];\n    var circleStyle = {\n      display: isSelected ? \"block\" : \"none\"\n    };\n    var fillColor = isSelected ? selectedColor : hover ? hoverColor : color;\n    var handleMouseOver = function () {\n      return setHover(true);\n    };\n    var handleMouseOut = function () {\n      return setHover(false);\n    };\n    return jsxRuntimeExports.jsx(\"div\", __assign({\n      \"data-testid\": \"grid-gallery-item_check-button\",\n      title: \"Select\",\n      style: checkButton({\n        isVisible: isVisible\n      }),\n      onClick: onClick,\n      onMouseOver: handleMouseOver,\n      onMouseOut: handleMouseOut\n    }, {\n      children: jsxRuntimeExports.jsxs(\"svg\", __assign({\n        fill: fillColor,\n        height: \"24\",\n        viewBox: \"0 0 24 24\",\n        width: \"24\",\n        xmlns: \"http://www.w3.org/2000/svg\"\n      }, {\n        children: [jsxRuntimeExports.jsxs(\"radialGradient\", __assign({\n          id: \"shadow\",\n          cx: \"38\",\n          cy: \"95.488\",\n          r: \"10.488\",\n          gradientTransform: \"matrix(1 0 0 -1 -26 109)\",\n          gradientUnits: \"userSpaceOnUse\"\n        }, {\n          children: [jsxRuntimeExports.jsx(\"stop\", {\n            offset: \".832\",\n            stopColor: \"#010101\"\n          }), jsxRuntimeExports.jsx(\"stop\", {\n            offset: \"1\",\n            stopColor: \"#010101\",\n            stopOpacity: \"0\"\n          })]\n        })), jsxRuntimeExports.jsx(\"circle\", {\n          style: circleStyle,\n          opacity: \".26\",\n          fill: \"url(#shadow)\",\n          cx: \"12\",\n          cy: \"13.512\",\n          r: \"10.488\"\n        }), jsxRuntimeExports.jsx(\"circle\", {\n          style: circleStyle,\n          fill: \"#FFF\",\n          cx: \"12\",\n          cy: \"12.2\",\n          r: \"8.292\"\n        }), jsxRuntimeExports.jsx(\"path\", {\n          d: \"M0 0h24v24H0z\",\n          fill: \"none\"\n        }), jsxRuntimeExports.jsx(\"path\", {\n          d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n        })]\n      }))\n    }));\n  };\n  var Image = function (_a) {\n    var item = _a.item,\n      ThumbnailImageComponent = _a.thumbnailImageComponent,\n      _b = _a.isSelectable,\n      isSelectable = _b === void 0 ? true : _b,\n      thumbnailStyle = _a.thumbnailStyle,\n      tagStyle = _a.tagStyle,\n      tileViewportStyle = _a.tileViewportStyle,\n      margin = _a.margin,\n      index = _a.index,\n      onSelect = _a.onSelect,\n      onClick = _a.onClick;\n    var styleContext = {\n      item: item\n    };\n    var _c = require$$0.useState(false),\n      hover = _c[0],\n      setHover = _c[1];\n    var thumbnailProps = {\n      key: index,\n      \"data-testid\": \"grid-gallery-item_thumbnail\",\n      src: item.src,\n      alt: item.alt ? item.alt : \"\",\n      title: typeof item.caption === \"string\" ? item.caption : null,\n      style: getStyle(thumbnailStyle, thumbnail, styleContext)\n    };\n    var handleCheckButtonClick = function (event) {\n      if (!isSelectable) {\n        return;\n      }\n      onSelect(index, event);\n    };\n    var handleViewportClick = function (event) {\n      onClick(index, event);\n    };\n    var thumbnailImageProps = {\n      item: item,\n      index: index,\n      margin: margin,\n      onSelect: onSelect,\n      onClick: onClick,\n      isSelectable: isSelectable,\n      tileViewportStyle: tileViewportStyle,\n      thumbnailStyle: thumbnailStyle,\n      tagStyle: tagStyle\n    };\n    return jsxRuntimeExports.jsxs(\"div\", __assign({\n      className: \"ReactGridGallery_tile\",\n      \"data-testid\": \"grid-gallery-item\",\n      onMouseEnter: function () {\n        return setHover(true);\n      },\n      onMouseLeave: function () {\n        return setHover(false);\n      },\n      style: galleryItem({\n        margin: margin\n      })\n    }, {\n      children: [jsxRuntimeExports.jsx(\"div\", __assign({\n        className: \"ReactGridGallery_tile-icon-bar\",\n        style: tileIconBar\n      }, {\n        children: jsxRuntimeExports.jsx(CheckButton, {\n          isSelected: item.isSelected,\n          isVisible: item.isSelected || isSelectable && hover,\n          onClick: handleCheckButtonClick\n        })\n      })), !!item.tags && jsxRuntimeExports.jsx(\"div\", __assign({\n        className: \"ReactGridGallery_tile-bottom-bar\",\n        style: bottomBar\n      }, {\n        children: item.tags.map(function (tag, index) {\n          return jsxRuntimeExports.jsx(\"div\", __assign({\n            title: tag.title,\n            style: tagItemBlock\n          }, {\n            children: jsxRuntimeExports.jsx(\"span\", __assign({\n              style: getStyle(tagStyle, tagItem, styleContext)\n            }, {\n              children: tag.value\n            }))\n          }), tag.key || index);\n        })\n      })), !!item.customOverlay && jsxRuntimeExports.jsx(\"div\", __assign({\n        className: \"ReactGridGallery_custom-overlay\",\n        style: customOverlay({\n          hover: hover\n        })\n      }, {\n        children: item.customOverlay\n      })), jsxRuntimeExports.jsx(\"div\", {\n        className: \"ReactGridGallery_tile-overlay\",\n        style: tileOverlay({\n          showOverlay: hover && !item.isSelected && isSelectable\n        })\n      }), jsxRuntimeExports.jsx(\"div\", __assign({\n        className: \"ReactGridGallery_tile-viewport\",\n        \"data-testid\": \"grid-gallery-item_viewport\",\n        style: getStyle(tileViewportStyle, tileViewport, styleContext),\n        onClick: handleViewportClick\n      }, {\n        children: ThumbnailImageComponent ? jsxRuntimeExports.jsx(ThumbnailImageComponent, __assign({}, thumbnailImageProps, {\n          imageProps: thumbnailProps\n        })) : jsxRuntimeExports.jsx(\"img\", __assign({}, thumbnailProps))\n      })), item.thumbnailCaption && jsxRuntimeExports.jsx(\"div\", __assign({\n        className: \"ReactGridGallery_tile-description\",\n        style: tileDescription\n      }, {\n        children: item.thumbnailCaption\n      }))]\n    }));\n  };\n  function useContainerWidth(defaultContainerWidth) {\n    var ref = require$$0.useRef(null);\n    var observerRef = require$$0.useRef();\n    var _a = require$$0.useState(defaultContainerWidth),\n      containerWidth = _a[0],\n      setContainerWidth = _a[1];\n    var containerRef = require$$0.useCallback(function (node) {\n      var _a;\n      (_a = observerRef.current) === null || _a === void 0 ? void 0 : _a.disconnect();\n      observerRef.current = undefined;\n      ref.current = node;\n      var updateWidth = function () {\n        if (!ref.current) {\n          return;\n        }\n        var width = ref.current.clientWidth;\n        try {\n          width = ref.current.getBoundingClientRect().width;\n        } catch (err) {}\n        setContainerWidth(Math.floor(width));\n      };\n      updateWidth();\n      if (node && typeof ResizeObserver !== \"undefined\") {\n        observerRef.current = new ResizeObserver(updateWidth);\n        observerRef.current.observe(node);\n      }\n    }, []);\n    return {\n      containerRef: containerRef,\n      containerWidth: containerWidth\n    };\n  }\n  var calculateCutOff = function (items, totalRowWidth, protrudingWidth) {\n    var cutOff = [];\n    var cutSum = 0;\n    for (var i in items) {\n      var item = items[i];\n      var fractionOfWidth = item.scaledWidth / totalRowWidth;\n      cutOff[i] = Math.floor(fractionOfWidth * protrudingWidth);\n      cutSum += cutOff[i];\n    }\n    var stillToCutOff = protrudingWidth - cutSum;\n    while (stillToCutOff > 0) {\n      for (var i in cutOff) {\n        cutOff[i]++;\n        stillToCutOff--;\n        if (stillToCutOff < 0) break;\n      }\n    }\n    return cutOff;\n  };\n  var getRow = function (images, _a) {\n    var containerWidth = _a.containerWidth,\n      rowHeight = _a.rowHeight,\n      margin = _a.margin;\n    var row = [];\n    var imgMargin = 2 * margin;\n    var items = __spreadArray([], images, true);\n    var totalRowWidth = 0;\n    while (items.length > 0 && totalRowWidth < containerWidth) {\n      var item = items.shift();\n      var scaledWidth = Math.floor(rowHeight * (item.width / item.height));\n      var extendedItem = __assign(__assign({}, item), {\n        scaledHeight: rowHeight,\n        scaledWidth: scaledWidth,\n        viewportWidth: scaledWidth,\n        marginLeft: 0\n      });\n      row.push(extendedItem);\n      totalRowWidth += extendedItem.scaledWidth + imgMargin;\n    }\n    var protrudingWidth = totalRowWidth - containerWidth;\n    if (row.length > 0 && protrudingWidth > 0) {\n      var cutoff = calculateCutOff(row, totalRowWidth, protrudingWidth);\n      for (var i in row) {\n        var pixelsToRemove = cutoff[i];\n        var item = row[i];\n        item.marginLeft = -Math.abs(Math.floor(pixelsToRemove / 2));\n        item.viewportWidth = item.scaledWidth - pixelsToRemove;\n      }\n    }\n    return [row, items];\n  };\n  var getRows = function (images, options, rows) {\n    if (rows === void 0) {\n      rows = [];\n    }\n    var _a = getRow(images, options),\n      row = _a[0],\n      imagesLeft = _a[1];\n    var nextRows = __spreadArray(__spreadArray([], rows, true), [row], false);\n    if (options.maxRows && nextRows.length >= options.maxRows) {\n      return nextRows;\n    }\n    if (imagesLeft.length) {\n      return getRows(imagesLeft, options, nextRows);\n    }\n    return nextRows;\n  };\n  var buildLayout = function (images, _a) {\n    var containerWidth = _a.containerWidth,\n      maxRows = _a.maxRows,\n      rowHeight = _a.rowHeight,\n      margin = _a.margin;\n    rowHeight = typeof rowHeight === \"undefined\" ? 180 : rowHeight;\n    margin = typeof margin === \"undefined\" ? 2 : margin;\n    if (!images) return [];\n    if (!containerWidth) return [];\n    var options = {\n      containerWidth: containerWidth,\n      maxRows: maxRows,\n      rowHeight: rowHeight,\n      margin: margin\n    };\n    return getRows(images, options);\n  };\n  var buildLayoutFlat = function (images, options) {\n    var rows = buildLayout(images, options);\n    return [].concat.apply([], rows);\n  };\n  var Gallery = function (_a) {\n    var images = _a.images,\n      _b = _a.id,\n      id = _b === void 0 ? \"ReactGridGallery\" : _b,\n      _c = _a.enableImageSelection,\n      enableImageSelection = _c === void 0 ? true : _c,\n      _d = _a.onSelect,\n      onSelect = _d === void 0 ? function () {} : _d,\n      _e = _a.rowHeight,\n      rowHeight = _e === void 0 ? 180 : _e,\n      maxRows = _a.maxRows,\n      _f = _a.margin,\n      margin = _f === void 0 ? 2 : _f,\n      _g = _a.defaultContainerWidth,\n      defaultContainerWidth = _g === void 0 ? 0 : _g,\n      _h = _a.onClick,\n      onClick = _h === void 0 ? function () {} : _h,\n      tileViewportStyle = _a.tileViewportStyle,\n      thumbnailStyle = _a.thumbnailStyle,\n      tagStyle = _a.tagStyle,\n      thumbnailImageComponent = _a.thumbnailImageComponent;\n    var _j = useContainerWidth(defaultContainerWidth),\n      containerRef = _j.containerRef,\n      containerWidth = _j.containerWidth;\n    var thumbnails = buildLayoutFlat(images, {\n      containerWidth: containerWidth,\n      maxRows: maxRows,\n      rowHeight: rowHeight,\n      margin: margin\n    });\n    var handleSelect = function (index, event) {\n      event.preventDefault();\n      onSelect(index, images[index], event);\n    };\n    var handleClick = function (index, event) {\n      onClick(index, images[index], event);\n    };\n    return jsxRuntimeExports.jsx(\"div\", __assign({\n      id: id,\n      className: \"ReactGridGallery\",\n      ref: containerRef\n    }, {\n      children: jsxRuntimeExports.jsx(\"div\", __assign({\n        style: gallery\n      }, {\n        children: thumbnails.map(function (item, index) {\n          return jsxRuntimeExports.jsx(Image, {\n            item: item,\n            index: index,\n            margin: margin,\n            height: rowHeight,\n            isSelectable: enableImageSelection,\n            onClick: handleClick,\n            onSelect: handleSelect,\n            tagStyle: tagStyle,\n            tileViewportStyle: tileViewportStyle,\n            thumbnailStyle: thumbnailStyle,\n            thumbnailImageComponent: thumbnailImageComponent\n          }, item.key || index);\n        })\n      }))\n    }));\n  };\n  Gallery.displayName = \"Gallery\";\n  exports.CheckButton = CheckButton;\n  exports.Gallery = Gallery;\n  exports.buildLayout = buildLayout;\n  exports.buildLayoutFlat = buildLayoutFlat;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"names":["f","require$$0__default","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","reactJsxRuntime_production_min","Fragment","jsx","jsxs","jsxRuntime","exports","requireReactJsxRuntime_production_min","getStyle","styleProp","fallback","context","rotationTransformMap","SELECTION_MARGIN","gallery","display","flexWrap","thumbnail","_a","item","rotationTransformValue","orientation","style","cursor","maxWidth","width","scaledWidth","height","scaledHeight","marginLeft","marginTop","transform","isSelected","ratio","viewportHeight","viewportWidth","Math","floor","abs","tileViewport","styles","overflow","nano","background","concat","backgroundSize","backgroundPosition","margin","customOverlay","hover","pointerEvents","opacity","position","galleryItem","WebkitUserSelect","padding","tileOverlay","showOverlay","tileIconBar","tileDescription","userSelect","MozUserSelect","bottomBar","minHeight","maxHeight","bottom","tagItemBlock","tagItem","fontSize","fontWeight","lineHeight","color","textAlign","whiteSpace","verticalAlign","borderRadius","checkButton","isVisible","visibility","float","border","CheckButton","_b","_c","onClick","_d","_e","selectedColor","_f","hoverColor","_g","require$$0","useState","setHover","circleStyle","fillColor","handleMouseOver","handleMouseOut","jsxRuntimeExports","__assign","title","onMouseOver","onMouseOut","children","fill","viewBox","xmlns","id","cx","cy","r","gradientTransform","gradientUnits","offset","stopColor","stopOpacity","Image","ThumbnailImageComponent","thumbnailImageComponent","isSelectable","thumbnailStyle","tagStyle","tileViewportStyle","index","onSelect","styleContext","thumbnailProps","src","alt","caption","handleCheckButtonClick","event","handleViewportClick","thumbnailImageProps","className","onMouseEnter","onMouseLeave","tags","map","tag","value","imageProps","thumbnailCaption","useContainerWidth","defaultContainerWidth","useRef","observerRef","containerWidth","setContainerWidth","containerRef","useCallback","node","disconnect","undefined","updateWidth","clientWidth","getBoundingClientRect","err","ResizeObserver","observe","calculateCutOff","items","totalRowWidth","protrudingWidth","cutOff","cutSum","i","fractionOfWidth","stillToCutOff","getRow","images","rowHeight","row","imgMargin","__spreadArray","length","shift","extendedItem","push","cutoff","pixelsToRemove","getRows","options","rows","imagesLeft","nextRows","maxRows","buildLayout","buildLayoutFlat","apply","Gallery","enableImageSelection","_h","_j","thumbnails","handleSelect","preventDefault","handleClick","displayName"],"sources":["C:\\Users\\Arian\\node_modules\\react-grid-gallery\\node_modules\\react\\cjs\\react-jsx-runtime.production.min.js","C:\\Users\\Arian\\node_modules\\react-grid-gallery\\node_modules\\react\\jsx-runtime.js","C:\\Users\\Arian\\node_modules\\react-grid-gallery\\src\\styles.ts","C:\\Users\\Arian\\node_modules\\react-grid-gallery\\src\\CheckButton.tsx","C:\\Users\\Arian\\node_modules\\react-grid-gallery\\src\\Image.tsx","C:\\Users\\Arian\\node_modules\\react-grid-gallery\\src\\useContainerWidth.ts","C:\\Users\\Arian\\node_modules\\react-grid-gallery\\src\\buildLayout.ts","C:\\Users\\Arian\\node_modules\\react-grid-gallery\\src\\Gallery.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import { CSSProperties } from \"react\";\nimport {\n  ImageExtended,\n  StyleFunction,\n  StyleFunctionContext,\n  StyleProp,\n} from \"./types\";\n\nexport const getStyle = (\n  styleProp: StyleProp | undefined,\n  fallback: StyleFunction,\n  context: StyleFunctionContext\n): CSSProperties => {\n  if (typeof styleProp === \"function\") {\n    return styleProp(context);\n  }\n  if (typeof styleProp === \"object\") {\n    return styleProp;\n  }\n  return fallback(context);\n};\n\nconst rotationTransformMap: Record<number, string> = {\n  3: \"rotate(180deg)\",\n  2: \"rotateY(180deg)\",\n  4: \"rotate(180deg) rotateY(180deg)\",\n  5: \"rotate(270deg) rotateY(180deg)\",\n  6: \"rotate(90deg)\",\n  7: \"rotate(90deg) rotateY(180deg)\",\n  8: \"rotate(270deg)\",\n};\n\nconst SELECTION_MARGIN = 16;\n\nexport const gallery: CSSProperties = {\n  display: \"flex\",\n  flexWrap: \"wrap\",\n};\n\nexport const thumbnail = ({ item }: { item: ImageExtended }): CSSProperties => {\n  const rotationTransformValue = rotationTransformMap[item.orientation];\n\n  const style = {\n    cursor: \"pointer\",\n    maxWidth: \"none\",\n    width: item.scaledWidth,\n    height: item.scaledHeight,\n    marginLeft: item.marginLeft,\n    marginTop: 0,\n    transform: rotationTransformValue,\n  };\n\n  if (item.isSelected) {\n    const ratio = item.scaledWidth / item.scaledHeight;\n    const viewportHeight = item.scaledHeight - SELECTION_MARGIN * 2;\n    const viewportWidth = item.viewportWidth - SELECTION_MARGIN * 2;\n\n    let height, width;\n    if (item.scaledWidth > item.scaledHeight) {\n      width = item.scaledWidth - SELECTION_MARGIN * 2;\n      height = Math.floor(width / ratio);\n    } else {\n      height = item.scaledHeight - SELECTION_MARGIN * 2;\n      width = Math.floor(height * ratio);\n    }\n\n    const marginTop = Math.abs(Math.floor((viewportHeight - height) / 2));\n    const marginLeft = Math.abs(Math.floor((viewportWidth - width) / 2));\n\n    style.width = width;\n    style.height = height;\n    style.marginLeft = marginLeft === 0 ? 0 : -marginLeft;\n    style.marginTop = marginTop === 0 ? 0 : -marginTop;\n  }\n\n  return style;\n};\n\nexport const tileViewport = ({\n  item,\n}: {\n  item: ImageExtended;\n}): CSSProperties => {\n  const styles: CSSProperties = {\n    width: item.viewportWidth,\n    height: item.scaledHeight,\n    overflow: \"hidden\",\n  };\n  if (item.nano) {\n    styles.background = `url(${item.nano})`;\n    styles.backgroundSize = \"cover\";\n    styles.backgroundPosition = \"center center\";\n  }\n  if (item.isSelected) {\n    styles.width = item.viewportWidth - SELECTION_MARGIN * 2;\n    styles.height = item.scaledHeight - SELECTION_MARGIN * 2;\n    styles.margin = SELECTION_MARGIN;\n  }\n  return styles;\n};\n\nexport const customOverlay = ({\n  hover,\n}: {\n  hover: boolean;\n}): CSSProperties => ({\n  pointerEvents: \"none\",\n  opacity: hover ? 1 : 0,\n  position: \"absolute\",\n  height: \"100%\",\n  width: \"100%\",\n});\n\nexport const galleryItem = ({ margin }: { margin: number }): CSSProperties => ({\n  margin,\n  WebkitUserSelect: \"none\",\n  position: \"relative\",\n  background: \"#eee\",\n  padding: \"0px\",\n});\n\nexport const tileOverlay = ({\n  showOverlay,\n}: {\n  showOverlay: boolean;\n}): CSSProperties => ({\n  pointerEvents: \"none\",\n  opacity: 1,\n  position: \"absolute\",\n  height: \"100%\",\n  width: \"100%\",\n  background: showOverlay\n    ? \"linear-gradient(to bottom,rgba(0,0,0,0.26),transparent 56px,transparent)\"\n    : \"none\",\n});\n\nexport const tileIconBar: CSSProperties = {\n  pointerEvents: \"none\",\n  opacity: 1,\n  position: \"absolute\",\n  height: \"36px\",\n  width: \"100%\",\n};\n\nexport const tileDescription: CSSProperties = {\n  background: \"white\",\n  width: \"100%\",\n  margin: 0,\n  userSelect: \"text\",\n  WebkitUserSelect: \"text\",\n  MozUserSelect: \"text\",\n  overflow: \"hidden\",\n};\n\nexport const bottomBar: CSSProperties = {\n  padding: \"2px\",\n  pointerEvents: \"none\",\n  position: \"absolute\",\n  minHeight: \"0px\",\n  maxHeight: \"160px\",\n  width: \"100%\",\n  bottom: \"0px\",\n  overflow: \"hidden\",\n};\n\nexport const tagItemBlock: CSSProperties = {\n  display: \"inline-block\",\n  cursor: \"pointer\",\n  pointerEvents: \"visible\",\n  margin: \"2px\",\n};\n\nexport const tagItem = (): CSSProperties => ({\n  display: \"inline\",\n  padding: \".2em .6em .3em\",\n  fontSize: \"75%\",\n  fontWeight: \"600\",\n  lineHeight: \"1\",\n  color: \"yellow\",\n  background: \"rgba(0,0,0,0.65)\",\n  textAlign: \"center\",\n  whiteSpace: \"nowrap\",\n  verticalAlign: \"baseline\",\n  borderRadius: \".25em\",\n});\n\nexport const checkButton = ({\n  isVisible,\n}: {\n  isVisible: boolean;\n}): CSSProperties => ({\n  visibility: isVisible ? \"visible\" : \"hidden\",\n  background: \"none\",\n  float: \"left\",\n  width: 36,\n  height: 36,\n  border: \"none\",\n  padding: 6,\n  cursor: \"pointer\",\n  pointerEvents: \"visible\",\n});\n","import { useState } from \"react\";\nimport * as styles from \"./styles\";\nimport { CheckButtonProps } from \"./types\";\n\nexport const CheckButton = ({\n  isSelected = false,\n  isVisible = true,\n  onClick,\n  color = \"#FFFFFFB2\",\n  selectedColor = \"#4285F4FF\",\n  hoverColor = \"#FFFFFFFF\",\n}: CheckButtonProps): JSX.Element => {\n  const [hover, setHover] = useState(false);\n\n  const circleStyle = { display: isSelected ? \"block\" : \"none\" };\n  const fillColor = isSelected ? selectedColor : hover ? hoverColor : color;\n\n  const handleMouseOver = () => setHover(true);\n  const handleMouseOut = () => setHover(false);\n\n  return (\n    <div\n      data-testid=\"grid-gallery-item_check-button\"\n      title=\"Select\"\n      style={styles.checkButton({ isVisible })}\n      onClick={onClick}\n      onMouseOver={handleMouseOver}\n      onMouseOut={handleMouseOut}\n    >\n      <svg\n        fill={fillColor}\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        width=\"24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <radialGradient\n          id=\"shadow\"\n          cx=\"38\"\n          cy=\"95.488\"\n          r=\"10.488\"\n          gradientTransform=\"matrix(1 0 0 -1 -26 109)\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop offset=\".832\" stopColor=\"#010101\"></stop>\n          <stop offset=\"1\" stopColor=\"#010101\" stopOpacity=\"0\"></stop>\n        </radialGradient>\n\n        <circle\n          style={circleStyle}\n          opacity=\".26\"\n          fill=\"url(#shadow)\"\n          cx=\"12\"\n          cy=\"13.512\"\n          r=\"10.488\"\n        />\n        <circle style={circleStyle} fill=\"#FFF\" cx=\"12\" cy=\"12.2\" r=\"8.292\" />\n        <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" />\n      </svg>\n    </div>\n  );\n};\n","import { useState, MouseEvent } from \"react\";\nimport { CheckButton } from \"./CheckButton\";\nimport { ImageExtended, ImageProps } from \"./types\";\nimport * as styles from \"./styles\";\nimport { getStyle } from \"./styles\";\n\nexport const Image = <T extends ImageExtended>({\n  item,\n  thumbnailImageComponent: ThumbnailImageComponent,\n  isSelectable = true,\n  thumbnailStyle,\n  tagStyle,\n  tileViewportStyle,\n  margin,\n  index,\n  onSelect,\n  onClick,\n}: ImageProps<T>): JSX.Element => {\n  const styleContext = { item };\n\n  const [hover, setHover] = useState(false);\n\n  const thumbnailProps = {\n    key: index,\n    \"data-testid\": \"grid-gallery-item_thumbnail\",\n    src: item.src,\n    alt: item.alt ? item.alt : \"\",\n    title: typeof item.caption === \"string\" ? item.caption : null,\n    style: getStyle(thumbnailStyle, styles.thumbnail, styleContext),\n  };\n\n  const handleCheckButtonClick = (event: MouseEvent<HTMLElement>) => {\n    if (!isSelectable) {\n      return;\n    }\n    onSelect(index, event);\n  };\n\n  const handleViewportClick = (event: MouseEvent<HTMLElement>) => {\n    onClick(index, event);\n  };\n\n  const thumbnailImageProps = {\n    item,\n    index,\n    margin,\n    onSelect,\n    onClick,\n    isSelectable,\n    tileViewportStyle,\n    thumbnailStyle,\n    tagStyle,\n  };\n\n  return (\n    <div\n      className=\"ReactGridGallery_tile\"\n      data-testid=\"grid-gallery-item\"\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n      style={styles.galleryItem({ margin })}\n    >\n      <div\n        className=\"ReactGridGallery_tile-icon-bar\"\n        style={styles.tileIconBar}\n      >\n        <CheckButton\n          isSelected={item.isSelected}\n          isVisible={item.isSelected || (isSelectable && hover)}\n          onClick={handleCheckButtonClick}\n        />\n      </div>\n\n      {!!item.tags && (\n        <div\n          className=\"ReactGridGallery_tile-bottom-bar\"\n          style={styles.bottomBar}\n        >\n          {item.tags.map((tag, index) => (\n            <div\n              key={tag.key || index}\n              title={tag.title}\n              style={styles.tagItemBlock}\n            >\n              <span style={getStyle(tagStyle, styles.tagItem, styleContext)}>\n                {tag.value}\n              </span>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {!!item.customOverlay && (\n        <div\n          className=\"ReactGridGallery_custom-overlay\"\n          style={styles.customOverlay({ hover })}\n        >\n          {item.customOverlay}\n        </div>\n      )}\n\n      <div\n        className=\"ReactGridGallery_tile-overlay\"\n        style={styles.tileOverlay({\n          showOverlay: hover && !item.isSelected && isSelectable,\n        })}\n      />\n\n      <div\n        className=\"ReactGridGallery_tile-viewport\"\n        data-testid=\"grid-gallery-item_viewport\"\n        style={getStyle(tileViewportStyle, styles.tileViewport, styleContext)}\n        onClick={handleViewportClick}\n      >\n        {ThumbnailImageComponent ? (\n          <ThumbnailImageComponent\n            {...thumbnailImageProps}\n            imageProps={thumbnailProps}\n          />\n        ) : (\n          <img {...thumbnailProps} />\n        )}\n      </div>\n      {item.thumbnailCaption && (\n        <div\n          className=\"ReactGridGallery_tile-description\"\n          style={styles.tileDescription}\n        >\n          {item.thumbnailCaption}\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useRef, useCallback, useState } from \"react\";\n\nexport function useContainerWidth(defaultContainerWidth: number) {\n  const ref = useRef<HTMLElement | null>(null);\n  const observerRef = useRef<ResizeObserver>();\n\n  const [containerWidth, setContainerWidth] = useState(defaultContainerWidth);\n\n  const containerRef = useCallback((node: HTMLElement | null) => {\n    observerRef.current?.disconnect();\n    observerRef.current = undefined;\n\n    ref.current = node;\n\n    const updateWidth = () => {\n      if (!ref.current) {\n        return;\n      }\n      let width = ref.current.clientWidth;\n      try {\n        width = ref.current.getBoundingClientRect().width;\n      } catch (err) {}\n      setContainerWidth(Math.floor(width));\n    };\n\n    updateWidth();\n\n    if (node && typeof ResizeObserver !== \"undefined\") {\n      observerRef.current = new ResizeObserver(updateWidth);\n      observerRef.current.observe(node);\n    }\n  }, []);\n\n  return { containerRef, containerWidth };\n}\n","import {\n  ImageExtended,\n  Image,\n  BuildLayoutOptions,\n  ImageExtendedRow,\n} from \"./types\";\n\nconst calculateCutOff = <T extends ImageExtended = ImageExtended>(\n  items: T[],\n  totalRowWidth: number,\n  protrudingWidth: number\n) => {\n  const cutOff: number[] = [];\n  let cutSum = 0;\n  for (let i in items) {\n    const item = items[i];\n    const fractionOfWidth = item.scaledWidth / totalRowWidth;\n    cutOff[i] = Math.floor(fractionOfWidth * protrudingWidth);\n    cutSum += cutOff[i];\n  }\n\n  let stillToCutOff = protrudingWidth - cutSum;\n  while (stillToCutOff > 0) {\n    for (let i in cutOff) {\n      cutOff[i]++;\n      stillToCutOff--;\n      if (stillToCutOff < 0) break;\n    }\n  }\n  return cutOff;\n};\n\nconst getRow = <T extends Image = Image>(\n  images: T[],\n  { containerWidth, rowHeight, margin }: BuildLayoutOptions\n): [ImageExtendedRow<T>, T[]] => {\n  const row: ImageExtendedRow<T> = [];\n  const imgMargin = 2 * margin;\n  const items = [...images];\n\n  let totalRowWidth = 0;\n  while (items.length > 0 && totalRowWidth < containerWidth) {\n    const item = items.shift();\n    const scaledWidth = Math.floor(rowHeight * (item.width / item.height));\n    const extendedItem: ImageExtended<T> = {\n      ...item,\n      scaledHeight: rowHeight,\n      scaledWidth,\n      viewportWidth: scaledWidth,\n      marginLeft: 0,\n    };\n    row.push(extendedItem);\n    totalRowWidth += extendedItem.scaledWidth + imgMargin;\n  }\n\n  const protrudingWidth = totalRowWidth - containerWidth;\n  if (row.length > 0 && protrudingWidth > 0) {\n    const cutoff = calculateCutOff(row, totalRowWidth, protrudingWidth);\n    for (const i in row) {\n      const pixelsToRemove = cutoff[i];\n      const item = row[i];\n      item.marginLeft = -Math.abs(Math.floor(pixelsToRemove / 2));\n      item.viewportWidth = item.scaledWidth - pixelsToRemove;\n    }\n  }\n\n  return [row, items];\n};\n\nconst getRows = <T extends Image = Image>(\n  images: T[],\n  options: BuildLayoutOptions,\n  rows: ImageExtendedRow<T>[] = []\n): ImageExtendedRow<T>[] => {\n  const [row, imagesLeft] = getRow(images, options);\n  const nextRows = [...rows, row];\n\n  if (options.maxRows && nextRows.length >= options.maxRows) {\n    return nextRows;\n  }\n  if (imagesLeft.length) {\n    return getRows(imagesLeft, options, nextRows);\n  }\n  return nextRows;\n};\n\nexport const buildLayout = <T extends Image = Image>(\n  images: T[],\n  { containerWidth, maxRows, rowHeight, margin }: BuildLayoutOptions\n): ImageExtendedRow<T>[] => {\n  rowHeight = typeof rowHeight === \"undefined\" ? 180 : rowHeight;\n  margin = typeof margin === \"undefined\" ? 2 : margin;\n\n  if (!images) return [];\n  if (!containerWidth) return [];\n\n  const options = { containerWidth, maxRows, rowHeight, margin };\n  return getRows(images, options);\n};\n\nexport const buildLayoutFlat = <T extends Image = Image>(\n  images: T[],\n  options: BuildLayoutOptions\n): ImageExtendedRow<T> => {\n  const rows = buildLayout(images, options);\n  return [].concat.apply([], rows);\n};\n","import { MouseEvent } from \"react\";\nimport { Image } from \"./Image\";\nimport { useContainerWidth } from \"./useContainerWidth\";\nimport { buildLayoutFlat } from \"./buildLayout\";\nimport { Image as ImageInterface, GalleryProps } from \"./types\";\nimport * as styles from \"./styles\";\n\nexport const Gallery = <T extends ImageInterface>({\n  images,\n  id = \"ReactGridGallery\",\n  enableImageSelection = true,\n  onSelect = () => {},\n  rowHeight = 180,\n  maxRows,\n  margin = 2,\n  defaultContainerWidth = 0,\n  onClick = () => {},\n  tileViewportStyle,\n  thumbnailStyle,\n  tagStyle,\n  thumbnailImageComponent,\n}: GalleryProps<T>): JSX.Element => {\n  const { containerRef, containerWidth } = useContainerWidth(\n    defaultContainerWidth\n  );\n\n  const thumbnails = buildLayoutFlat<T>(images, {\n    containerWidth,\n    maxRows,\n    rowHeight,\n    margin,\n  });\n\n  const handleSelect = (index: number, event: MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    onSelect(index, images[index], event);\n  };\n\n  const handleClick = (index: number, event: MouseEvent<HTMLElement>) => {\n    onClick(index, images[index], event);\n  };\n\n  return (\n    <div id={id} className=\"ReactGridGallery\" ref={containerRef}>\n      <div style={styles.gallery}>\n        {thumbnails.map((item, index) => (\n          <Image\n            key={item.key || index}\n            item={item}\n            index={index}\n            margin={margin}\n            height={rowHeight}\n            isSelectable={enableImageSelection}\n            onClick={handleClick}\n            onSelect={handleSelect}\n            tagStyle={tagStyle}\n            tileViewportStyle={tileViewportStyle}\n            thumbnailStyle={thumbnailStyle}\n            thumbnailImageComponent={thumbnailImageComponent}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nGallery.displayName = \"Gallery\";\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}